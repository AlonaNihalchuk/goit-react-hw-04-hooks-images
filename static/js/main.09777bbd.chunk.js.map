{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Modal2/Modal2.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","fetch/api-service.js","helper/mapper.js","components/App/App.js","index.js","components/Modal2/Modal2.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal2","onClose","bigImg","pictureName","handleKeyDown","e","code","useEffect","window","addEventListener","removeEventListener","createPortal","className","styles","Overlay","onClick","target","currentTarget","Modal","src","alt","defaultProps","Searchbar","onSubmit","useState","setPictureName","SearchForm","preventDefault","trim","alert","type","SearchFormButton","SearchFormButtonLabel","onChange","value","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","largeImageURL","webformatURL","tags","ImageGalleryItemImage","ImageGallery","hits","error","map","imageId","smallImg","largeImg","tagsImg","message","Button","fetchPictures","page","fetch","then","response","ok","json","Promise","reject","Error","mapper","id","App","pictures","setPictures","setPage","showButton","setShowButton","setError","loading","setLoading","showModal","setShowModal","setLargeImg","toggleModal","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","handleShowButton","phonebook","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.09777bbd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2bPoa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3giLH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"App_phonebook__2nwIq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__31_qH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__15Zvf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__i4lsY\",\"SearchForm\":\"Searchbar_SearchForm__1rKOz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__qOgCr\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__gkjMJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2mCLb\"};","import { useEffect } from \"react\";\n\nimport styles from \"./Modal2.module.css\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal2({ onClose, bigImg, pictureName }) {\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  });\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>\n        <img src={bigImg} alt={pictureName} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal2.defaultProps = {\n  pictureName: \"\",\n  bigImg: null,\n};\n\nModal2.propTypes = {\n  onClick: PropTypes.func,\n  onClose: PropTypes.func.isRequired,\n  pictureName: PropTypes.string,\n  bigImg: PropTypes.string,\n};\n\nexport default Modal2;\n","import { useState } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Searchbar({ onSubmit }) {\n  const [pictureName, setPictureName] = useState(\"\");\n\n  const handlePictureNameChange = (e) => {\n    setPictureName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (pictureName.trim() === \"\") {\n      alert(\"введите слово\");\n      return;\n    }\n    onSubmit(pictureName);\n    setPictureName(\"\");\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          onChange={handlePictureNameChange}\n          className={styles.SearchFormInput}\n          value={pictureName}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ onClick, largeImageURL, webformatURL, tags }) {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => onClick(largeImageURL)}\n    >\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGallery({ hits, onClick, error }) {\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {hits &&\n          hits.map(({ imageId, smallImg, largeImg, tagsImg }) => (\n            <ImageGalleryItem\n              key={imageId}\n              onClick={onClick}\n              webformatURL={smallImg}\n              largeImageURL={largeImg}\n              tags={tagsImg}\n            />\n          ))}\n      </ul>\n      {error && <p>{error.message}</p>}\n    </>\n  );\n}\n\nImageGallery.defaultProps = {\n  hits: [],\n  error: null,\n};\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n  error: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={() => onClick()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","const API_KEY = \"22623319-52f49cc6bb6df63b12d71d4de\";\nconst BASE_URL = \"https://pixabay.com/api/?\";\n\nfunction fetchPictures(pictureName, page) {\n  return fetch(\n    `${BASE_URL}q=${pictureName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(\"there is no such a picture\"));\n  });\n}\n\nexport default fetchPictures;\n","function mapper(hits) {\n  return hits.map(\n    ({\n      id: imageId,\n      webformatURL: smallImg,\n      largeImageURL: largeImg,\n      tags: tagsImg,\n    }) => ({\n      imageId,\n      smallImg,\n      largeImg,\n      tagsImg,\n    })\n  );\n}\n\nexport default mapper;\n","import { useState, useEffect } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./App.module.css\";\nimport Modal2 from \"../Modal2/Modal2\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport fetchPictures from \"../../fetch/api-service\";\nimport mapper from \"../../helper/mapper\";\n\nfunction App() {\n  const [pictures, setPictures] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showButton, setShowButton] = useState(false);\n  const [error, setError] = useState(null);\n  const [pictureName, setPictureName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState(\"\");\n\n  const toggleModal = (largeImg) => {\n    setShowModal(!showModal);\n    setLargeImg(largeImg);\n  };\n\n  useEffect(() => {\n    if (pictureName === \"\") {\n      return;\n    }\n    setLoading(true);\n    fetchPictures(pictureName, page)\n      .then(({ hits }) => {\n        setPictures((prevState) => [...prevState, ...mapper(hits)]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .then(setShowButton(true))\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false));\n  }, [page, pictureName]);\n\n  const reset = () => {\n    setPictures([]);\n    setPage(1);\n  };\n\n  const handlePictureNameSubmit = (pictureName) => {\n    reset();\n    setPictureName(pictureName);\n  };\n\n  const loadMore = (e) => {\n    setPage((prevState) => prevState + 1);\n    handleShowButton();\n  };\n\n  const handleShowButton = () => {\n    setShowButton(!showButton);\n  };\n\n  return (\n    <section className={styles.phonebook}>\n      <Searchbar onSubmit={handlePictureNameSubmit} />\n\n      {!!pictures.length && (\n        <ImageGallery\n          hits={pictures}\n          error={error}\n          pictureName={pictureName}\n          onClick={toggleModal}\n        />\n      )}\n\n      {loading && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      )}\n      {showButton && <Button onClick={loadMore} />}\n      {showModal && (\n        <Modal2\n          onClose={toggleModal}\n          bigImg={largeImg}\n          pictureName={pictureName}\n        />\n      )}\n    </section>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal2_Overlay__y7wqQ\",\"Modal\":\"Modal2_Modal__vLxGj\"};"],"sourceRoot":""}