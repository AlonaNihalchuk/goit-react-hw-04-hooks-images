(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2bPoa",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3giLH"}},13:function(e,t,a){e.exports={phonebook:"App_phonebook__2nwIq"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__31_qH"}},15:function(e,t,a){e.exports={Button:"Button_Button__15Zvf"}},20:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__i4lsY",SearchForm:"Searchbar_SearchForm__1rKOz",SearchFormButton:"Searchbar_SearchFormButton__qOgCr",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__gkjMJ",SearchFormInput:"Searchbar_SearchFormInput__2mCLb"}},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),u=(a(20),a(11)),i=a(3),s=a(12),l=a.n(s),m=a(13),b=a.n(m),j=a(9),h=a.n(j),g=a(1),f=document.querySelector("#modal-root");function O(e){var t=e.onClose,a=e.bigImg,n=e.pictureName,o=function(e){"Escape"===e.code&&t()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}})),Object(c.createPortal)(Object(g.jsx)("div",{className:h.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(g.jsx)("div",{className:h.a.Modal,children:Object(g.jsx)("img",{src:a,alt:n})})}),f)}O.defaultProps={pictureName:"",bigImg:null};var d=O,p=a(4),I=a.n(p);var _=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(g.jsx)("header",{className:I.a.Searchbar,children:Object(g.jsxs)("form",{className:I.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e")},children:[Object(g.jsx)("button",{type:"submit",className:I.a.SearchFormButton,children:Object(g.jsx)("span",{className:I.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:I.a.SearchFormInput,value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},S=a(14),v=a.n(S),x=a(10),y=a.n(x);var k=function(e){var t=e.onClick,a=e.largeImageURL,r=e.webformatURL,n=e.tags;return Object(g.jsx)("li",{className:y.a.ImageGalleryItem,onClick:function(){return t(a)},children:Object(g.jsx)("img",{src:r,alt:n,className:y.a.ImageGalleryItemImage})})};function w(e){var t=e.hits,a=e.onClick,r=e.error;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ul",{className:v.a.ImageGallery,children:t&&t.map((function(e){var t=e.imageId,r=e.smallImg,n=e.largeImg,c=e.tagsImg;return Object(g.jsx)(k,{onClick:a,webformatURL:r,largeImageURL:n,tags:c},t)}))}),r&&Object(g.jsx)("p",{children:r.message})]})}w.defaultProps={hits:[],error:null};var F=w,C=a(15),L=a.n(C);var N=function(e){var t=e.onClick;return Object(g.jsx)("button",{type:"button",className:L.a.Button,onClick:function(){return t()},children:"Load more"})};var G=function(e,t){return fetch("".concat("https://pixabay.com/api/?","q=").concat(e,"&page=").concat(t,"&key=").concat("22623319-52f49cc6bb6df63b12d71d4de","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("there is no such a picture"))}))};var B=function(e){return e.map((function(e){return{imageId:e.id,smallImg:e.webformatURL,largeImg:e.largeImageURL,tagsImg:e.tags}}))};var E=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(i.a)(c,2),s=o[0],m=o[1],j=Object(r.useState)(!1),h=Object(i.a)(j,2),f=h[0],O=h[1],p=Object(r.useState)(null),I=Object(i.a)(p,2),S=I[0],v=I[1],x=Object(r.useState)(""),y=Object(i.a)(x,2),k=y[0],w=y[1],C=Object(r.useState)(!1),L=Object(i.a)(C,2),E=L[0],M=L[1],q=Object(r.useState)(!1),P=Object(i.a)(q,2),R=P[0],U=P[1],H=Object(r.useState)(""),J=Object(i.a)(H,2),T=J[0],z=J[1],A=function(e){U(!R),z(e)};Object(r.useEffect)((function(){""!==k&&(M(!0),G(k,s).then((function(e){var t=e.hits;n((function(e){return[].concat(Object(u.a)(e),Object(u.a)(B(t)))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).then(O(!0)).catch((function(e){return v(e)})).finally((function(){return M(!1)})))}),[s,k]);var D=function(){O(!f)};return Object(g.jsxs)("section",{className:b.a.phonebook,children:[Object(g.jsx)(_,{onSubmit:function(e){n([]),m(1),w(e)}}),!!a.length&&Object(g.jsx)(F,{hits:a,error:S,pictureName:k,onClick:A}),E&&Object(g.jsx)(l.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),f&&Object(g.jsx)(N,{onClick:function(e){m((function(e){return e+1})),D()}}),R&&Object(g.jsx)(d,{onClose:A,bigImg:T,pictureName:k})]})};o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Overlay:"Modal2_Overlay__y7wqQ",Modal:"Modal2_Modal__vLxGj"}}},[[42,1,2]]]);
//# sourceMappingURL=main.09777bbd.chunk.js.map